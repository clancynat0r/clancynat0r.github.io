{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Clancy/Documents/GitHub/clancynat0r.github.io/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Clancy/Documents/GitHub/clancynat0r.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";// Data\nimport{githubUsername,projectCardImages}from\"../data\";var initialState={error:\"\",isLoading:true,data:[]};export var url=\"https://api.github.com/users/\".concat(githubUsername,\"/repos?per_page=100\");export var fetchGitHubReops=createAsyncThunk(\"allProjects/fetchGitHubReops\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(thunkApi,_ref){var rejectWithValue,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:rejectWithValue=_ref.rejectWithValue;_context.prev=1;_context.next=4;return fetch(url).then(function(res){if(!res.ok){throw new Error(res.status);}return res;});case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;return _context.abrupt(\"return\",data);case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);return _context.abrupt(\"return\",rejectWithValue(\"Error: \".concat(_context.t0.message,\", check username in data.js (currently \").concat(githubUsername,\")\")));case 14:case\"end\":return _context.stop();}},_callee,null,[[1,11]]);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());export var allProjectsSlice=createSlice({name:\"allProjects\",initialState:initialState,extraReducers:function extraReducers(builder){builder.addCase(fetchGitHubReops.pending,function(state){state.isLoading=true;state.error=\"\";}).addCase(fetchGitHubReops.fulfilled,function(state,action){state.isLoading=false;state.data=action.payload;projectCardImages.forEach(function(element){state.data.forEach(function(el,i){if(element.name.toLowerCase()===el.name.toLowerCase()){el.image=element.image;}});});}).addCase(fetchGitHubReops.rejected,function(state,action){state.isLoading=false;state.error=action.payload;console.log(state.error);});}});export var selectIsLoading=function selectIsLoading(state){return state.allProjects.isLoading;};export var selectError=function selectError(state){return state.allProjects.error;};export var selectData=function selectData(state){return state.allProjects.data;};export default allProjectsSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","githubUsername","projectCardImages","initialState","error","isLoading","data","url","concat","fetchGitHubReops","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","thunkApi","_ref","rejectWithValue","response","wrap","_callee$","_context","prev","next","fetch","then","res","ok","Error","status","sent","json","abrupt","t0","message","stop","_x","_x2","apply","arguments","allProjectsSlice","name","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","forEach","element","el","i","toLowerCase","image","rejected","console","log","selectIsLoading","allProjects","selectError","selectData","reducer"],"sources":["/Users/Clancy/Documents/GitHub/clancynat0r.github.io/src/pages/allProjectsSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n// Data\nimport { githubUsername, projectCardImages } from \"../data\";\n\nconst initialState = {\n  error: \"\",\n  isLoading: true,\n  data: [],\n};\n\nexport const url = `https://api.github.com/users/${githubUsername}/repos?per_page=100`;\n\nexport const fetchGitHubReops = createAsyncThunk(\n  \"allProjects/fetchGitHubReops\",\n  async (thunkApi, { rejectWithValue }) => {\n    try {\n      const response = await fetch(url).then(function (res) {\n        if (!res.ok) {\n          throw new Error(res.status);\n        }\n        return res;\n      });\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      return rejectWithValue(\n        `Error: ${err.message}, check username in data.js (currently ${githubUsername})`\n      );\n    }\n  }\n);\n\nexport const allProjectsSlice = createSlice({\n  name: \"allProjects\",\n  initialState,\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchGitHubReops.pending, (state) => {\n        state.isLoading = true;\n        state.error = \"\";\n      })\n      .addCase(fetchGitHubReops.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.data = action.payload;\n        projectCardImages.forEach(function (element) {\n          state.data.forEach((el, i) => {\n            if (element.name.toLowerCase() === el.name.toLowerCase()) {\n              el.image = element.image;\n            }\n          });\n        });\n      })\n      .addCase(fetchGitHubReops.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload;\n        console.log(state.error);\n      });\n  },\n});\n\nexport const selectIsLoading = (state) => state.allProjects.isLoading;\nexport const selectError = (state) => state.allProjects.error;\nexport const selectData = (state) => state.allProjects.data;\n\nexport default allProjectsSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}